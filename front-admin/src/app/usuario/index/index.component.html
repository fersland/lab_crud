<div class="filters-container">
  <div class="department-filter">
    <div class="form-group">
      <select id="department" class="custom-select" style="width:220px; background: rgb(237, 233, 233);"  [(ngModel)]="selectedDepartment" (change)="filtrarUsuariosPorDepartamento()">
        <option value="" disabled selected>Seleccionar un documento</option>
        <option value="">TODOS</option>
        <option *ngFor="let depa of departamentos" [value]="depa.id">
          {{ depa.nombre }}
        </option>
      </select>
      
    </div>

    <div class="form-group">
      <select id="cargo" class="custom-select" style="width:220px; background: rgb(237, 233, 233);" [(ngModel)]="selectedCargo" (change)="filtrarUsuariosPorCargo()">
        <option value="" disabled selected>Seleccionar un cargo</option>
        <option value="">TODOS</option>
        <option *ngFor="let car of cargos" [value]="car.id">
          {{ car.nombre }}
        </option>
      </select>
    </div>

  </div>

  <button mat-flat-button (click)="abrirModalCrearUsuario()" style="background: rgb(229, 226, 226); color:rgb(120, 120, 123); font-size: 11px;">Crear Nuevo Usuario</button>
</div>

<hr />
@if(usuarios){
  <table mat-table [dataSource]="usuarios" multiTemplateDataRows class="mat-elevation-z10 indice-elementos">
  
    <ng-container matColumnDef="usuario">
      <th mat-header-cell *matHeaderCellDef>Usuario</th>
      <td mat-cell *matCellDef="let uss">{{ uss.usuario }}</td>
    </ng-container>
  
    <ng-container matColumnDef="nombres">
      <th mat-header-cell *matHeaderCellDef>Nombres</th>
      <td mat-cell *matCellDef="let uss">{{ uss.primerNombre + ' ' + (uss.segundoNombre ?? '') }}</td>

    </ng-container>
  
    <ng-container matColumnDef="apellidos">
      <th mat-header-cell *matHeaderCellDef>Apellidos</th>
      <td mat-cell *matCellDef="let uss">{{ uss.primerApellido + ' ' + (uss.segundoApellido ?? '') }}</td>

    </ng-container>
  
    <ng-container matColumnDef="idDepartamento">
      <th mat-header-cell *matHeaderCellDef>Departamento</th>
      <td mat-cell *matCellDef="let uss">{{ uss.dep }}</td>
    </ng-container>
  
    <ng-container matColumnDef="idCargo">
      <th mat-header-cell *matHeaderCellDef>Cargo</th>
      <td mat-cell *matCellDef="let uss">{{ uss.car }}</td>
    </ng-container>
  
    <ng-container matColumnDef="acciones">
      <th mat-header-cell *matHeaderCellDef class="centered-header">Acciones</th>
      <td mat-cell *matCellDef="let uss">
        <button style="color:green" mat-flat-button (click)="abrirModalEditarUsuario(uss.id)">
          <mat-icon>edit</mat-icon> Editar
        </button>
        <button style="color:red" mat-flat-button (click)="confirmarEliminacion(uss.id)">
          <mat-icon>delete</mat-icon> Eliminar
        </button>
      </td>
    </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="columnasAMostrar"></tr>
    <tr mat-row *matRowDef="let row; columns: columnasAMostrar"></tr>
  
  </table>
  
}